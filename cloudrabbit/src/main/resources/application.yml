server:
  port: 8013

management:
  endpoints:
    web:
      exposure:
        include: "bindings"
        
spring:
  cloud:
    stream:
      binders:
        litteRabbit:
          environment:
            spring:
              rabbitmq:
                addresses: 127.0.0.1:5672
                username: zhangtianyi
                password: zhangtianyi
                virtual-host: vhost_test01
          type: rabbit
      bindings:
        outputBusinessAdvice:
          binder: litteRabbit
          destination: businessAdviceDestination
          #producer:
          #  partitioned: true
           # partition-key-expression: headers['partitionKey']
           # partition-count: 3
        inputBusinessAdvice:
          binder: litteRabbit
          destination: businessAdviceDestination
          group: businessAdviceGroup
          consumer:
            # 最多尝试处理几次，默认3	
            maxAttempts: 5
            partitioned: true
            instance-index: 2
      rabbit:
        bindings:
          inputBusinessAdvice:
            consumer:
              auto-bind-dlq: true
              republish-to-dlq: true
              # 对顺序不做要求时
              # prefetch: 250
              # maxConcurrency: 5


      